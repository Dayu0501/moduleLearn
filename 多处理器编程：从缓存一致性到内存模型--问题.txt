1，执行一条加法指令只要一个周期，但是我们这个加法的执行结果写到内存，却要等100个周期？
2，为什么cpu对于指令的乱序执行（指令的执行顺序会带来对内存的操作如读变量，写变量），为什么能带来性能的提升？
3，我们用的比较多的x86，它其实只有一种重排，Store-Load，其实这种称之为Total Store Ordering？完全存储序（total store ordering）？
4，posix的API中的mutex是通过锁总线的方式，实现互斥的吗？


自己的理解：
1，volatile in C++其实是写给编译器看的东西，CPU无感知，也就是说它没有定义happens-before的关系，不能当作传统的原子变量来用，它能满足的就是缓存一致性，变量修改的可见性。（后面这段话用什么次来形容，需要找到合适的专业词汇？）



Write-through（直写模式）在数据更新时，同时写入缓存Cache和后端存储。此模式的优点是操作简单；缺点是因为数据修改需要同时写入存储，数据写入速度较慢。
Write-back（回写模式）在数据更新时只写入缓存Cache。只有在数据被换出缓存时，被修改的缓存数据才会被写到后端存储。此模式的优点是数据写入速度快，因为不需要写存储；缺点是一旦更新后的数据未被写入存储时出现系统掉电的情况，数据将无法找回。
Write-misses写缺失的处理方式：
对于写操作，存在写入缓存缺失数据（缺失数据：即该数据已被换出缓存）的情况，这时有两种处理方式：
	Write allocate方式将写入位置读入缓存，然后采用write-hit（缓存命中写入）操作。写缺失操作与读缺失操作类似。
	No-write allocate方式并不将写入位置读入缓存，而是直接将数据写入存储。这种方式下，只有读操作会被缓存。

无论是Write-through还是Write-back都可以使用写缺失的两种方式之一。只是通常Write-back采用Write allocate方式，而Write-through采用No-write allocate方式；因为多次写入同一缓存时，Write allocate配合Write-back可以提升性能；而对于Write-through则没有帮助。



再回头看看那个图是不是清晰多了，在 MESI 出现之前的解决缓存一致性的方案是总线锁机制，这种解决方案效率很低，锁住总线期间，其他 CPU 无法访问内存。



专业词汇：
exclusive	英[ɪkˈskluːsɪv] 美[ɪkˈskluːsɪv]
adj.	(个人或集体)专用的，专有的，独有的，独占的; 排外的; 不愿接收新成员(尤指较低社会阶层)的; 高档的; 豪华的; 高级的;
n.	独家新闻; 独家专文; 独家报道;

coherence	英[kəʊˈhɪərəns] 美[koʊˈhɪrəns]
n.	连贯性; 条理性;

eventual	英[ɪˈventʃuəl]
美[ɪˈventʃuəl]
adj.	最终的; 最后的; 结果的;

consistent	英[kənˈsɪstənt]
美[kənˈsɪstənt]
adj.	一致的; 始终如一的; 连续的; 持续的; 与…一致的; 相符的; 符合的; 不矛盾的;

latency	英['leɪtənsɪ]
n.	潜伏; 潜在因素;

symmetric	英[sɪ'metrɪk]
美[sɪ'metrɪk]
adj.	对称的;

hyper	英[ˈhaɪpə(r)]
美[ˈhaɪpər]
adj.	既兴奋又紧张的; 精力过旺的;

uniform	英[ˈjuːnɪfɔːm]
美[ˈjuːnɪfɔːrm]
n.	制服; 校服;
adj.	统一的; 一致的; 一律的;

instruction	英[ɪnˈstrʌkʃn]
美[ɪnˈstrʌkʃn]
n.	指示; 用法说明; 操作指南; 命令; 吩咐; (计算机的)指令;
adj.	说明用法的; 操作指南的;

invalidate
英[ɪnˈvælɪdeɪt]
美[ɪnˈvælɪdeɪt]
v.	证明…错误; 使站不住脚; 使无效; 使作废;

sequential 	英 [sɪˈkwenʃl]
	美 [sɪˈkwenʃl]
adj. 	顺序的; 序列的; 按次序的

linearizability	
网络	线性一致性; 可线性化; 线性化; 线性能力; 原子操作;


store	英[stɔː(r)]
美[stɔːr]
n.	商店; 店铺; (大型)百货商店; 贮存物; 备用物;
v.	保存; 贮存; 贮藏; (在计算机里)存储; 记忆;

acquire	英[əˈkwaɪə(r)] 美[əˈkwaɪər]
v.	获得; 得到; (通过努力、能力、行为表现)获得; 购得;

barrier	英[ˈbæriə(r)]
美[ˈbæriər]
n.	屏障; 障碍; 障碍物; 阻力; 关卡; 分界线; 隔阂;
